<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secret</title>

    <style>
        * {
            font-family: "Comic Sans MS", "Comic Sans", cursive;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            overflow: auto;
        }

        #before {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            overflow: auto;
        }

        #after {
            display: flex;
            padding: 1rem;
            overflow: auto;
            text-align: center;
            background-color: rgb(255, 167, 223);
        }

        #after * {
            color: white;
        }

        /* Create a fanning patter of images */
        #image_collage {
            height: 50vh;
        }

        #image_collage img {
            position: absolute;
            transform-origin: bottom;
            transform: translateX(-50%) rotate(calc(var(--n) * -10deg + 30deg)) translateX(calc(var(--n) * -15vw + 45vw));
        }

        h3{
            max-width: 50vw;
            margin: auto;
        }
    </style>
</head>

<body>
    <div id="before">
        <h2>We are reaching out to you about your 1 month free trial with your new boyfriend.</h2>
        <h2>Would you like to extend your trial for another month?</h2>
        <div>
            <button id="yes_btn">Yes</button>
            <button id="no_btn">No</button>
        </div>
    </div>

    <div style="display: none;" id="after">
        <h1>‚ô•Ô∏è HAPPY ONE MONTH BABYYYY!!! ‚ô•Ô∏è</h1>
        <h2>I LOVE YOU (more btw)</h2>

        <div id="image_collage">
            <img style="--n: 1; z-index: 3; scale: 0.75;" src="./img (1).png" alt="">
            <img style="--n: 2; z-index: 2;" src="./img (2).png" alt="">
            <img style="--n: 3; z-index: 1;" src="./img (3).png" alt="">
            <img style="--n: 4; z-index: 2;" src="./img (4).png" alt="">
            <img style="--n: 5; z-index: 3;" src="./img (5).png" alt="">
        </div>

        <div id="image_collage">
            <img style="--n: 2; z-index: 4; width: 400px;" src="./img (7).gif" alt="">
            <img style="--n: 3; z-index: 5;" src="./img (8).gif" alt="">
            <img style="--n: 4; z-index: 4;" src="./img (6).png" alt="">
        </div>

        <img src="./bowing.gif" alt="">
        <br>
        <h4>(literally me btw)</h4>
        <h5>(i freaking love your smile hihi)</h5>

        <br>
        <br>
        <br>

        <h3>I fell for you harder than the twins on 9/11... üõ´üè¢</h3>
        <h3>You're the bestest, hottest and most supportive girlfriend I could ever ask for and I love youuuuuuu... ‚ô•Ô∏è</h3>
        <h3>I love that you're mine and I can be yours... I love your smile, your laughter, your gentleness and every single insecurity and battle that you might be hiding from me now...</h3>
        <h3>I can't wait to be with you forevaaaaaaaaa ‚ô•Ô∏è</h3>
        <h2>AND I CAN'T WAIT TO SEE YOUUU SOON... MWAAAAHH ‚ô•Ô∏è</h2>

        <br>
        <br>
        <br>
        <img src="./roses.png" alt="">
        <h3>Some flowers for my babygirllll ‚ô•Ô∏è</h3>
        <br>
        <br>
        <br>

        <h1>üî™Top valo clips of us mhm üî´</h1>
        <h5>(thanks for teaching meeeee)</h5>

        <h2 style="text-align: left; margin-left: 25vw;">1.</h2>
        <video controls src="./val1.mp4"></video>
        <h2 style="text-align: left; margin-left: 25vw;">2.</h2>
        <video controls src="./val2.mp4"></video>
        <h2 style="text-align: left; margin-left: 25vw;">3.</h2>
        <video controls src="./val3.mp4"></video>

        <br>
        <br>
        <br>

        <h2>That's all... LOVE YOU ‚ô•Ô∏è!</h2>
    </div>



    <script>
        function make_confetti() {
            // create a confetti effect from the bottom of the screen
            for (let i = 0; i < 250; i++) {
                const confetti = document.createElement("div");
                confetti.style.position = "fixed";
                confetti.style.width = "10px";
                confetti.style.height = "10px";
                confetti.style.backgroundColor = "hsl(" + Math.random() * 360 + ", 100%, 50%)";
                confetti.style.left = Math.random() * window.innerWidth + "px";
                confetti.style.bottom = "0px";
                confetti.style.opacity = "1";
                confetti.style.transform = "translateY(0)";
                confetti.style.transition = "transform 3s cubic-bezier(.25,.46,.45,.94), opacity 3s ease-out";
                document.body.appendChild(confetti);

                setTimeout(() => {
                    confetti.style.transform = "translateY(-" + (window.innerHeight * (Math.random() + 0.1) / 2) + "px) translateX(" + (Math.random() - 0.5) * 2 * 100 + "px) rotate(" + (Math.random() * 360 * 3) + "deg)";
                    confetti.style.opacity = "0";
                }, 100);

                setTimeout(() => {
                    document.body.removeChild(confetti);
                }, 3100);
            }
        }

        function play_sound() {
            const audio = new Audio('./yippee.mp3');
            audio.currentTime = 1;
            audio.volume = 0.2; // REMOVE LATER
            audio.play();
        }

        function switch_screens() {
            document.getElementById("before").style.display = "none";
            document.getElementById("after").style.display = "block";

            const videos = document.querySelectorAll("video");
            videos.forEach(video => {
                video.style.width = "50vw";
                video.style.height = "auto";
                video.muted = false;
            });
        }

        document.getElementById("yes_btn").onclick = async function () {
            make_confetti();
            play_sound();

            await new Promise(resolve => setTimeout(resolve, 4));

            switch_screens()
        };

        let hops = 0;
        function hop_button_around() {
            document.getElementById("no_btn").style.transform = "translateX(" + (Math.random() * 300 - 150) + "px) translateY(" + (Math.random() * 300 - 150) + "px)";

            hops += 1;
            document.getElementById("no_btn").style.opacity = Math.max(0, 1 - hops / 20);
            if (hops >= 20) {
                document.getElementById("no_btn").style.display = "none";
            }
        }

        document.getElementById("no_btn").onmouseover = hop_button_around;
        document.getElementById("no_btn").onclick = hop_button_around;
    </script>
</body>

</html>